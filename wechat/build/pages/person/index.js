/*! Generated by Clam: wechat 2015-11-06 16:16:12 */
!function(a,b){var c=function(){this.init()};c.prototype={init:function(){var a=this;a.cacheData(),a.cacheDom(),a.fetchData()},cacheDom:function(){var a=this;a.dom={wrapper:b("#page"),loading:b("#loading"),tpl:b("#tpl")}},cacheData:function(){var b=this;b.data={},b.data.userId=Wlib.getUserId(),b.data.location=Wlib.getRequestParam("locationId"),b.data.cityList=a.CITYLIST},renderUI:function(){var a=this;a.dom.wrapper.html(juicer(a.dom.tpl.html(),a.data)),b("select").val(a._makeCityName(a.data.location)),a.dom.loading.hide()},fetchData:function(){var a=this,b={userid:a.data.userId};Wlib.SendRequestNew("treatOperate","userOrderIndex",b,function(b){a.data.info=b.value,a.renderUI(),a.recacheDom(),a.bindEvent()})},recacheDom:function(){var a=this;a.dom.banner=b(".banner")},_makeCityName:function(a){for(var b=0;b<CITYLIST.length;b++)if(a==CITYLIST[b].id)return CITYLIST[b].name},addJuicerHandler:function(){juicer.register("makeCityName",function(a){for(var b=0;b<CITYLIST.length;b++)if(a==CITYLIST[b].id)return CITYLIST[b].name})},bindEvent:function(){var a=this;a.dom.banner.on("click",function(){var a=b(this).attr("data-href");a&&(window.location=a)}),b("#myOrder").on("click",function(){location.href="../../pages/orderList/index.html?userId="+Wlib.getUserId()}),b("#about").on("click",function(){location.href="../../pages/about/index.html"}),b("#feedback").on("click",function(){location.href="../../pages/feedback/index.html"})}};new c}(window,$);