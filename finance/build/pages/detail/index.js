/*! Generated by Clam: finace 2015-10-17 11:06:57 */
!function(a,b){var c=function(){this.init()};c.prototype={init:function(){var a=this;a.cacheData(),a.cacheDom(),a.getItems()},cacheData:function(){var a=this;a.data={newsId:Wlib.getRequestParam("newsId"),type:0,pageIndex:1,pageSize:10}},cacheDom:function(){var a=this;a.dom={wrapper:b("#page"),loading:b("#loading"),tpl:b("#tpl")}},renderUI:function(){var a=this;a.dom.wrapper.html(juicer(a.dom.tpl.html(),a.data)),a.dom.loading.hide()},recacheDom:function(){},renderList:function(){var a=this;b("#reply").append(juicer(b("#item-tpl").html(),a.data))},bindEvent:function(){},getItems:function(){function a(a){a.success&&"1"==a.code?(b.data.data=a.data,b.renderUI(),b.bindEvent(),b.getList(),console.log(b.data.list)):Wlib.tips(a.message)}var b=this;Wlib.GetJsonData("http://121.199.57.142:8081/lifefinancial/api/news/detail.json?newsId="+b.data.newsId+"&type="+b.data.type,a,a)},getList:function(){function a(a){a.success&&"1"==a.code?(b.data.list=a.data,b.renderList(),b.data.pageSize==a.data.length&&b.bindMore(!0),console.log(b.data.data)):Wlib.tips(a.message)}var b=this;Wlib.GetJsonData("http://121.199.57.142:8081/lifefinancial/api/news/getNewsCommentList.json?newsId="+b.data.newsId+"&pageIndex="+b.data.pageIndex+"&pageSize="+b.data.pageSize,a,a)},bindMore:function(a){var b=this;Wlib._bindScrollTobottom(function(){({newsId:Wlib.getRequestParam("newsId"),type:Wlib.getRequestParam("type"),pageIndex:b.data.pageIndex++,pageSize:10});b.getList()},a)}};new c}(window,$);