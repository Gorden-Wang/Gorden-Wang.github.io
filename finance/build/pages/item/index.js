/*! Generated by Clam: finace 2016-04-04 12:40:31 */
!function(a,b){var c=function(){this.init()};c.prototype={init:function(){var a=this;a.cacheData(),a.cacheDom(),a.getItems()},cacheData:function(){var a=this;a.data={productId:Wlib.getRequestParam("productId")}},cacheDom:function(){var a=this;a.dom={wrapper:b("#page"),loading:b("#loading"),tpl:b("#tpl")}},renderUI:function(){var a=this;a.dom.wrapper.html(juicer(a.dom.tpl.html(),a.data)),a.dom.loading.hide()},recacheDom:function(){},bindEvent:function(){var a=this,c=b(".dest-num"),d=parseInt(c.text());b(".sku-items .sku-item").on("click",function(){var c=b(this).hasClass("selected");c||(b(this).addClass("selected").siblings().removeClass("selected"),a.data.stocks=b(this).attr("data-stocks"))}),b("#l-btn").on("click",function(){1!=d&&(d--,c.text(d))}),b("#r-btn").on("click",function(){d!=a.data.stocks&&(d++,c.text(d))})},getItems:function(){function a(a){a.success&&"1"==a.code?(b.data.data=a.data,b.renderUI(),b.recacheDom(),b.bindEvent(),console.log(b.data.data)):Wlib.tips(a.message)}var b=this;Wlib.GetJsonData("http://121.199.57.142:8081/lifefinancial/api/public/lfProductDetail.json?productId="+b.data.productId,a,a)}};new c}(window,$);