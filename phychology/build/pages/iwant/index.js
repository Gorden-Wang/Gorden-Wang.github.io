/*! Generated by Clam: finace 2016-04-04 12:41:47 */
!function(a,b){var c=function(){this.init()};c.prototype={init:function(){var a=this;a.cacheData(),a.cacheDom(),a.addJuicerHandler(),a.renderUI(),a.recacheDom(),a.bindEvent()},cacheData:function(){var a=this;a.data={},a.data.param={id:Wlib.getRequestParam("productId"),img_w:b("body").width(),img_h:Math.floor(.609375*b("body").width()),user_headimg_w:100,user_headimg_h:100}},cacheDom:function(){var a=this;a.dom={wrapper:b("#page"),loading:b("#loading"),tpl:b("#tpl")}},renderUI:function(){var a=this;a.dom.wrapper.html(juicer(a.dom.tpl.html(),a.data)),a.dom.loading.hide()},recacheDom:function(){var a=this;a.dom.tabs=b(".tab-wrapper li"),a.dom.back=b(".m-icon0"),a.dom.commitBtn=b(".fixedbtn"),a.dom.tags=b(".tag-item"),a.dom.tagInput=b(".tag-input")},bindEvent:function(){var c=this;FastClick.attach(document.body),c.dom.back.on("click",function(){a.history.back()}),c.dom.commitBtn.on("click",function(){var a="<p class='title'>\u60a8\u7684\u63a5\u6d3b\u7533\u8bf7\u5df2\u7ecf\u63d0\u4ea4.</p><p class='content'>\u63a5\u4e0b\u6765\u6211\u4eec\u7684\u9879\u76ee\u7ecf\u7406\u53ef\u80fd\u4f1a\u76f4\u63a5\u4e0e\u60a8\u8054\u7cfb,\u5e76\u786e\u8ba4\u7ec6\u8282\u4fe1\u606f.\u60a8\u4e5f\u53ef\u4ee5\u52a0\u5ba2\u670d\u5fae\u4fe1\u2018zayiapp\u2019\u8fdb\u884c\u54a8\u8be2</p>",c="<div class='btn'>\u6715\u77e5\u9053\u4e86</div>";Wlib.alert(a,c,function(){b(".fadeIn").remove()})}),c.dom.tags.on("click",function(){var a=b(this).hasClass("add-btn"),d=b(this).hasClass("select");if(d)b(this).removeClass("select");else if(b(this).addClass("select"),a)return void c.dom.tagInput.show()})},addJuicerHandler:function(){juicer.register("makeRateImg",function(a){var b=(a+"").split("."),c=b[0],d=b[1]>0?".5":"";return c+d})},getItems:function(){function a(a){"1"==a.resultCode?(b.data.data=a.resultData,b.renderUI(),b.recacheDom(),b.bindEvent(),console.log(b.data.data)):Wlib.tips(a.message)}var b=this,c=function(a){var b="";for(var c in a)b+=c+"="+a[c]+"&";return b.slice(0,-1)}(b.data.param);Wlib.GetJsonData("app/product/detail/jsonp?"+c,a,a)}};new c}(window,$);