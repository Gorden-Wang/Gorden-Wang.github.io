/*! Generated by Clam: wechat 2016-05-09 16:06:57 */
!function(a,b){var c=function(){this.init()};c.prototype={init:function(){var a=this;a.addJuicerHandler(),a.cacheData(),a.cacheDom(),a.renderUI(),a.recacheDom(),a.bindEvent()},cacheData:function(){var a=this;a.data={},a.data.key=function(){var a=location.search;return a&&a.replace("?","").split("=")[0]}(),a.data.val=Wlib.getRequestParam(a.data.key)||""},cacheDom:function(){var a=this;a.dom={wrapper:b("#page"),loading:b("#loading"),tpl:b("#tpl")}},renderUI:function(){var a=this;a.dom.wrapper.html(juicer(a.dom.tpl.html(),a.data)),a._makeFooter(),a.dom.loading.hide()},recacheDom:function(){var a=this;a.dom.newLi=b(".itemli li"),a.dom.wallet=b(".wallet-wrap")},_makeFooter:function(){{var a={classname:"f-5",selected:!0,url:"",id:""};new Wlib.Footer(b("#footer"),a,4)}},addJuicerHandler:function(){var a=this;juicer.register("makePlaceHolder",function(){var b="";switch(a.data.key){case"name":b="\u8bf7\u8f93\u5165\u8bf4\u753b\u53f7";break;case"nickname":b="\u8bf7\u8f93\u5165\u6635\u79f0";break;case"QQ":b="\u8bf7\u8f93\u5165\u5fae\u4fe1\u53f7";break;case"email":b="\u8bf7\u8f93\u5165\u7b7e\u540d";break;case"sex":b="\u8bf7\u8f93\u5165\u6635\u79f0"}return b})},bindEvent:function(){var a=this;FastClick.attach(document.body),b(".big-btn").on("click",function(){var c={uid:localStorage.getItem("uid"),token:localStorage.getItem("token")};c[a.data.key]=b("input").val()||b("textarea").val(),Wlib.SendRequest("default/person/infoEdit",c,"POST",function(a){1==a.state?(Wlib.tips("\u64cd\u4f5c\u6210\u529f"),setTimeout(function(){history.back()},2e3)):Wlib.tips(a.message)})}),b(".sex-wrap li").on("click",function(){var c=0==b(this).find(".right").length?!1:!0;if(!c){b(this).append("<span class='right'></span>"),b(this).siblings().find(".right").remove(),a.dom.loading.show();var d={uid:localStorage.getItem("uid"),token:localStorage.getItem("token"),sex:b(this).attr("data-tag")};Wlib.SendRequest("default/person/infoEdit",d,"POST",function(b){1==b.state&&(a.dom.loading.hide(),Wlib.tips("\u64cd\u4f5c\u6210\u529f"),setTimeout(function(){history.back()},2e3))})}})}};new c}(window,$);